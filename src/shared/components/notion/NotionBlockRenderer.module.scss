@use '@/shared/styles/_mixins.scss' as m;

.wrap {
  padding: 0 var(--spacing-5);
  max-width: 100%;
  color: var(--theme-text-default);

  // 제목 스타일
  .heading1 {
    margin: var(--spacing-8) 0 var(--spacing-4) 0;
    font-size: 2.25rem;
    font-weight: var(--font-weight-title);
    color: var(--theme-text-default);
    line-height: 1.3;
    letter-spacing: -0.02em;

    &:first-child {
      margin-top: 0;
    }

    @include m.breakpoint(tablet) {
      font-size: 2rem;
    }

    @include m.breakpoint(mobile) {
      font-size: 1.75rem;
      margin: var(--spacing-6) 0 var(--spacing-3) 0;
    }
  }

  .heading2 {
    margin: var(--spacing-6) 0 var(--spacing-3) 0;
    font-size: 1.75rem;
    font-weight: var(--font-weight-title);
    color: var(--theme-text-default);
    line-height: 1.35;
    letter-spacing: -0.01em;

    &:first-child {
      margin-top: 0;
    }

    @include m.breakpoint(tablet) {
      font-size: 1.5rem;
    }

    @include m.breakpoint(mobile) {
      margin: var(--spacing-5) 0 var(--spacing-2) 0;
      font-size: 1.35rem;
    }
  }

  .heading3 {
    font-size: 1.375rem;
    margin: var(--spacing-5) 0 var(--spacing-2) 0;
    font-weight: var(--font-weight-subtitle);
    color: var(--theme-text-default);
    line-height: 1.4;

    &:first-child {
      margin-top: 0;
    }

    @include m.breakpoint(mobile) {
      font-size: 1.25rem;
      margin: var(--spacing-4) 0 var(--spacing-2) 0;
    }
  }

  // 문단 스타일
  .paragraph {
    margin: var(--spacing-3) 0;
    font-size: 1rem;
    color: var(--theme-text-default);
    line-height: 1.75;
    letter-spacing: 0.01em;

    @include m.breakpoint(mobile) {
      font-size: 0.9375rem;
      line-height: 1.7;
    }
  }

  // 리스트 스타일
  .list {
    margin: var(--spacing-4) 0;
    padding-left: var(--spacing-6);
    color: var(--theme-text-default);
    list-style-type: unset;

    @include m.breakpoint(mobile) {
      padding-left: var(--spacing-5);
    }

    // 첫 번째 깊이 (기본)
    list-style-type: disc;


    // 두 번째 깊이
    ul {
      list-style-type: circle;
      margin: var(--spacing-2) 0;
      padding-left: var(--spacing-5);

      @include m.breakpoint(mobile) {
        padding-left: var(--spacing-4);
      }

      // 세 번째 깊이
      ul {
        list-style-type: square;
        margin: var(--spacing-2) 0;
        padding-left: var(--spacing-5);

        @include m.breakpoint(mobile) {
          padding-left: var(--spacing-4);
        }

        // 네 번째 깊이 이상
        ul {
          list-style-type: disc;
        }
      }
    }

    // 번호가 있는 리스트 (ol)
    ol {
      list-style-type: decimal;
      margin: var(--spacing-2) 0;
      padding-left: var(--spacing-5);

      @include m.breakpoint(mobile) {
        padding-left: var(--spacing-4);
      }

      // 두 번째 깊이
      ol {
        list-style-type: lower-alpha;
        margin: var(--spacing-2) 0;
        padding-left: var(--spacing-5);

        @include m.breakpoint(mobile) {
          padding-left: var(--spacing-4);
        }

        // 세 번째 깊이
        ol {
          list-style-type: lower-roman;
          margin: var(--spacing-2) 0;
          padding-left: var(--spacing-5);

          @include m.breakpoint(mobile) {
            padding-left: var(--spacing-4);
          }

          // 네 번째 깊이 이상
          ol {
            list-style-type: decimal;
          }
        }
      }
    }
  }

  .listItem {
    margin: var(--spacing-2) 0;
    position: relative;
    font-size: 1rem;
    color: var(--theme-text-default);
    line-height: 1.75;

    &::marker {
      color: var(--theme-text-secondary);
    }

    @include m.breakpoint(mobile) {
      margin: var(--spacing-1) 0;
      font-size: 0.9375rem;
    }

    // 체크박스가 있는 리스트 아이템
    &.listItemWithCheckbox {
      list-style: none;
    }
  }

  // 체크박스 스타일
  .checkbox {
    flex-shrink: 0;
    width: 18px;
    height: 18px;
    min-width: 18px;
    margin: 0;
    margin-right: var(--spacing-2);
    cursor: default;
    accent-color: var(--accents-2);
    vertical-align: middle;

    &:checked {
      accent-color: var(--accents-2);
    }

    @include m.breakpoint(mobile) {
      width: 16px;
      height: 16px;
      min-width: 16px;
    }
  }

  // 이미지 스타일
  .imageContainer {
    width: 100%;
    max-width: 800px;
    margin: var(--spacing-6) 0;
    padding: 0;
    position: relative;
    background: var(--theme-background-secondary);
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
    transition: box-shadow 0.3s ease;

    &:hover {
      box-shadow: 0 4px 16px rgba(0, 0, 0, 0.12);
    }

    @include m.breakpoint(mobile) {
      max-width: 100%;
      margin: var(--spacing-4) 0;
      border-radius: 8px;
    }
  }

  .image {
    display: block;
    width: 100%;
    height: auto;
    object-fit: cover;
  }

  // 코드 블록 스타일
  .codeBlock {
    margin: var(--spacing-5) 0;
    padding: var(--spacing-5);
    background: var(--theme-background-quaternary);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 8px;
    overflow-x: auto;
    font-size: 0.875rem;
    color: #f5f5f5;
    line-height: 1.6;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);

    @include m.breakpoint(mobile) {
      margin: var(--spacing-4) 0;
      padding: var(--spacing-4);
      font-size: 0.8125rem;
    }

    // 스크롤바 스타일링
    &::-webkit-scrollbar {
      height: 8px;
    }

    &::-webkit-scrollbar-track {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 4px;
    }

    &::-webkit-scrollbar-thumb {
      background: rgba(255, 255, 255, 0.2);
      border-radius: 4px;

      &:hover {
        background: rgba(255, 255, 255, 0.3);
      }
    }
  }

  .code {
    display: block;
    white-space: pre;
    overflow-x: auto;
  }

  // 인라인 코드 스타일
  .inlineCode {
    padding: 0.2em 0.5em;
    background: var(--theme-background-secondary);
    border: 1px solid var(--theme-border-default);
    border-radius: 4px;
    font-size: 0.9em;
    font-weight: 500;
    color: var(--theme-text-default);
    line-height: 1.5;
  }

  // 인용구 스타일
  .quote {
    padding: var(--spacing-4) var(--spacing-5);
    margin: var(--spacing-5) 0;
    position: relative;
    background: var(--accents-1);
    border-left: 3px solid var(--accents-2);
    border-radius: 0 8px 8px 0;
    font-size: 1rem;
    font-style: italic;
    color: var(--theme-text-default);
    line-height: 1.75;

    @include m.breakpoint(mobile) {
      margin: var(--spacing-4) 0;
      padding: var(--spacing-3) var(--spacing-4);
      font-size: 0.9375rem;
    }
  }

  // 구분선 스타일
  .divider {
    margin: var(--spacing-8) 0;
    border: none;
    border-top: 2px solid var(--theme-border-default);
    opacity: 0.5;

    @include m.breakpoint(mobile) {
      margin: var(--spacing-6) 0;
    }
  }

  // 테이블 스타일
  .tableContainer {
    margin: var(--spacing-5) 0;
    padding: 0;
    border: 1px solid var(--accents-2);
    border-radius: 8px;
    overflow-x: auto;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);

    @include m.breakpoint(mobile) {
      margin: var(--spacing-4) 0;
    }

    // 스크롤바 스타일링
    &::-webkit-scrollbar {
      height: 8px;
    }

    &::-webkit-scrollbar-track {
      background: var(--accents-1);
      border-radius: 4px;
    }

    &::-webkit-scrollbar-thumb {
      background: var(--accents-3);
      border-radius: 4px;

      &:hover {
        background: var(--accents-4);
      }
    }
  }

  .table {
    width: 100%;
    background: var(--accents-0);
    border-collapse: collapse;
    font-size: 0.9375rem;
  }

  .tableHeader {
    padding: var(--spacing-3) var(--spacing-4);
    position: sticky;
    top: 0;
    z-index: 1;
    background: var(--accents-1);
    border-bottom: 2px solid var(--accents-2);
    font-size: 0.9375rem;
    font-weight: var(--font-weight-subtitle);
    color: var(--theme-text-default);
    text-align: left;
    vertical-align: top;
    line-height: 1.6;

    @include m.breakpoint(mobile) {
      padding: var(--spacing-2) var(--spacing-3);
      font-size: 0.875rem;
    }
  }

  .tableCell {
    padding: var(--spacing-3) var(--spacing-4);
    background: var(--accents-0);
    border-bottom: 1px solid var(--accents-2);
    font-size: 0.9375rem;
    color: var(--theme-text-default);
    text-align: left;
    vertical-align: top;
    line-height: 1.6;

    @include m.breakpoint(mobile) {
      padding: var(--spacing-2) var(--spacing-3);
      font-size: 0.875rem;
    }

    // 첫 번째 열 (헤더가 위에 있는 경우)
    &:first-child {
      font-weight: var(--font-weight-detail);
      color: var(--theme-text-secondary);
    }

    // 줄바꿈이 있는 경우
    div {
      margin: var(--spacing-1) 0;
      
      &:first-child {
        margin-top: 0;
      }
      
      &:last-child {
        margin-bottom: 0;
      }
    }
  }
}
